## 概述
WATCHDOG相当于系统警察，当系统发生严重错误（程序进入死循环）不能恢复时，WATCHDOG可以让系统重启，主要用于在嵌入式操作系统中避免在无人干预时长时间挂起的情况。

## 功能
1. 提供WATCHDOG控制寄存器和配置寄存器，供开发人员根据系统进行灵活配置
2. 提供一接口，使应用软件能够定时给WATCHDOG喂狗
3. 提供WATCHDOG机制，当系统进入不可恢复错误时，能够产生一个不可屏蔽中断来通知系统自动重启。只有相应的复位信号才能清除

## 实现方法
1. 利用系统操作时钟实现WATCHDOG  
操作系统时钟的比较寄存器3（OSMR3）做为WATCHDOG的运行主体，当系统的WATCHDOG激活后，软件就必须在一定时间内从OSMR3读出当前的计数，然后加上一定的计数值（下一次到期的计数值），再写回到OSMR3中，软件一直周期性的重复这个过程，如果软件没有重新写入新的计数使定时器到期，此OSMR3会利用一个GPIO触发系统复位。
2. 芯片专门的WATCHDOG模块
3. 单片机的WATCHDOG实现  
 许多单片机片内自带看门狗电路，单片机复位时将片内自带看门狗电路禁止，只有当程序访问该电路时，电路启动。如51系列单片机对SFR中的0A6H 地址顺序写入＃01EH、#0E1H；而96系列单片机则对SFR中的0A6H地址顺序写入＃1EH、#0E1H；工控主机板上看门狗电路本身并不要求复位后重新启动，但BIOS在复位后将板上看门狗禁止，启动和喂狗方法与单片机相同。如研祥的FSC-1713主板，在WatchDog编程状态，只要执行如下两条指令：

      outportb(0x2e,0xf6)；  

      outportb(0x2f,TIME-OUT-VALUE)；

可实现WatchDog的启停，其中TIME-OUT-VALUE ≠0启动；TIME-OUT-VALUE =0停止[2] 。能够用指令禁止看门狗是为了适应用户程序开发阶段的需要，这同时给看门狗启动和运行失败留下了后门，在看门狗启动时或启动前遇干扰而使程序跑飞，则看门狗启动失败，无法行使监控职能。

## 参考链接
https://blog.csdn.net/maopig/article/details/7173393